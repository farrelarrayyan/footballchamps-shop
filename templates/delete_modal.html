<div id="deleteModal" class="hidden fixed inset-0 z-50 w-full flex items-center justify-center bg-black bg-opacity-70">
  <div id="deleteModalContent" class="bg-gray-800 rounded-2xl shadow-lg w-11/12 sm:w-3/5 md:w-1/2 lg:w-2/5 max-h-screen overflow-y-auto border border-gray-700">
    
    <!-- Header -->
    <div class="p-6 border-b border-gray-700">
      <h3 class="text-lg font-semibold text-white">Delete Product</h3>
    </div>

    <!-- Body -->
    <div class="px-6 py-6 text-gray-300">
      <p>Are you sure you want to delete this product?</p>
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-4 p-6 border-t border-gray-700">
      <button onclick="hideDeleteModal()" class="px-5 py-2 border border-gray-600 text-gray-400 rounded-md hover:text-gray-200 hover:border-gray-400">Cancel</button>
      <button id="confirmDeleteBtn" class="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-md font-medium">Delete</button>
    </div>
  </div>
</div>

<script>
  let deleteProductId = null;

  function openDeleteModal(productId) {
    deleteProductId = productId;
    const modal = document.getElementById("deleteModal");
    const content = document.getElementById("deleteModalContent");
    modal.classList.remove("hidden");
    setTimeout(() => {
      content.classList.remove("opacity-0", "scale-95");
      content.classList.add("opacity-100", "scale-100");
    }, 50);
  }

  function hideDeleteModal() {
    const modal = document.getElementById("deleteModal");
    const content = document.getElementById("deleteModalContent");
    content.classList.remove("opacity-100", "scale-100");
    content.classList.add("opacity-0", "scale-95");
    setTimeout(() => modal.classList.add("hidden"), 150);
  }

  document.getElementById("confirmDeleteBtn").addEventListener("click", async () => {
    if (!deleteProductId) return;
    await fetch(`/delete-product-ajax/${deleteProductId}/`, { method: "POST" });
    hideDeleteModal();
    showToast("Product deleted!", "", "success");
    document.dispatchEvent(new CustomEvent("productAdded"));
  });
</script>
